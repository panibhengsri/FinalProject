(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{31:function(e,t,n){e.exports={button:"button_button__3Pz0r"}},43:function(e,t,n){},44:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(2),c=n.n(r),i=n(30),s=n.n(i),a=(n(43),n(37)),l=(n(44),n(13)),u=n(19),h=n(15),d=n(14),j=n(20),p=n(31),b=n.n(p),O=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(l.a)(this,n),o=t.call(this,e),console.log(o.props),o}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return this.props.auth.currentUser&&Object(o.jsx)(j.b,{to:"/",className:b.a.button,onClick:function(){return e.props.auth.signOut()},children:"Sign Out"})}}]),n}(c.a.Component),f=n(16),g=n(17),v=(n(24),n(25),n(27),n(21)),x=(n(26),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).signInWithGoogle=function(){var e=new g.a.auth.GoogleAuthProvider;r.props.auth.signInWithPopup(e)},r.render=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(j.b,{to:"/locations",onClick:r.signInWithGoogle,children:"Sign in with Google"}),Object(o.jsx)("p",{style:{marginTop:"5px",color:"white"},children:"Do not violate the community guidelines or you will be banned for life!"})]})},r.signInWithGoogle=r.signInWithGoogle.bind(Object(f.a)(r)),r}return n}(c.a.Component));var m=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).state={learningMore:!1},o.handleLearnMore=o.handleLearnMore.bind(Object(f.a)(o)),o}return Object(u.a)(n,[{key:"handleLearnMore",value:function(){this.setState({learningMore:!0})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://final-project-comp20.herokuapp.com/api/rate/country/").then((function(e){return e.json()})).then((function(t){e.setState({goout:!0,uv:t.uv,temp:t.temp,covid:t.covid})}),(function(t){e.setState({goout:!0,error:t})}))}},{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{class:"simpleResult",children:[Object(o.jsx)("h2",{children:"8/10"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{style:{marginTop:"28px"},children:"You should leave the house today!"}),Object(o.jsx)("button",{onClick:this.handleLearnMore,children:"see why"})]})]})})}}]),n}(c.a.Component),y=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).setLoccArr=function(){r.props.firestore.collection(r.props.auth.currentUser.uid).doc("locations").onSnapshot((function(e){r.setState({locArr:e.data().locations})}))},r.sendMessage=function(){r.props.firestore.collection(r.props.auth.currentUser.uid).doc("locations").update({locations:g.a.firestore.FieldValue.arrayUnion("ehh")})},r.addCollec=function(){r.props.firestore.collection(r.props.auth.currentUser.uid).doc("locations").get().then((function(e){e.exists||r.props.firestore.collection(r.props.auth.currentUser.uid).doc("locations").set({locations:[""]})}))},r.render=function(){return r.addCollec(),r.sendMessage(),1==r.state.locArr[0]?Object(o.jsx)("main",{children:Object(o.jsx)("div",{children:"Add location with the dropdown list above!"})}):(console.log("array is initialized"),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("main",{children:Object(o.jsx)("div",{children:r.state.locArr.map((function(e){return Object(o.jsxs)("div",{children:[" ",e," "]})}))})})}))},r.state={me:r.props.firestore.collection(r.props.auth.currentUser.uid),locc:null,locArr:[1,2,3,4]},console.log("addlist is made"),r.sendMessage=r.sendMessage.bind(Object(f.a)(r)),r.addCollec=r.addCollec.bind(Object(f.a)(r)),r.setLoccArr=r.setLoccArr.bind(Object(f.a)(r)),r.setLoccArr(),r}return n}(c.a.Component),C=n.p+"static/media/logo.057a6dee.png",A=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"render",value:function(){return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("section",{children:this.props.user?Object(o.jsx)(y,{firestore:this.props.firestore,auth:this.props.auth}):Object(o.jsx)(x,{firestore:this.props.firestore,auth:this.props.auth})}),Object(o.jsx)("div",{children:Object(o.jsx)(O,{auth:this.props.auth})})]})}}]),n}(c.a.Component),I=n(5);g.a.initializeApp({apiKey:"AIzaSyBozbLN9F8w_LCmJEvPsCIx82h7Hd0NtrY",authDomain:"comp20finalproj.firebaseapp.com",projectId:"comp20finalproj",storageBucket:"comp20finalproj.appspot.com",messagingSenderId:"721509114501",appId:"1:721509114501:web:3e7a6c1a4147938ca77fec",measurementId:"G-SJD7Z64VEP"});var L=g.a.auth(),k=g.a.firestore();g.a.analytics();var w=function(){var e=Object(v.a)(L),t=Object(a.a)(e,1)[0];return Object(r.useRef)(),console.log("props.auth.currentuser is null"),Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(j.a,{children:Object(o.jsxs)(I.c,{children:[Object(o.jsx)(I.a,{path:"/result",children:Object(o.jsx)(m,{})}),Object(o.jsx)(I.a,{path:"/locations",children:Object(o.jsx)(A,{auth:L,firestore:k,user:t})}),Object(o.jsxs)(I.a,{path:"/",children:[Object(o.jsx)("img",{style:{width:"300px"},src:C,alt:"Logo"}),Object(o.jsx)(x,{auth:L})]})]})})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),o(e),r(e),c(e),i(e)}))};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(w,{})}),document.getElementById("root")),M()}},[[52,1,2]]]);
//# sourceMappingURL=main.ce2b5480.chunk.js.map